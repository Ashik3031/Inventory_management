{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { motion } from \"framer-motion\";\n// import axios from \"axios\";\n// import { useRouter } from \"next/router\";\n\n// const EditProduct = () => {\n//   const router = useRouter();\n//   const { id } = router.query;\n\n//   const [form, setForm] = useState({\n//     title: \"\",\n//     description: \"\",\n//     media: null,\n//     status: \"draft\",\n//     category: \"\",\n//     price: \"\",\n//     stock: \"\",\n//   });\n\n//   const [searchTerm, setSearchTerm] = useState(\"\");\n//   const [imageResults, setImageResults] = useState([]);\n\n//   // Fetch product on mount\n//   useEffect(() => {\n//     if (id) {\n//       const fetchProduct = async () => {\n//         try {\n//           const res = await axios.get(`http://localhost:5000/api/products/${id}`);\n//           setForm(res.data);\n//         } catch (err) {\n//           console.error(\"Error fetching product:\", err);\n//         }\n//       };\n//       fetchProduct();\n//     }\n//   }, [id]);\n\n//   const fetchImages = async () => {\n//     try {\n//       const res = await axios.get(`https://api.unsplash.com/search/photos`, {\n//         params: { query: searchTerm, per_page: 6 },\n//         headers: {\n//           Authorization: `Client-ID ${process.env.NEXT_PUBLIC_UNSPLASH_KEY}`,\n//         },\n//       });\n//       setImageResults(res.data.results);\n//     } catch (error) {\n//       console.error(\"Error fetching images from Unsplash:\", error);\n//     }\n//   };\n\n//   const handleChange = (e) => {\n//     const { name, value, type, files } = e.target;\n//     setForm((prev) => ({\n//       ...prev,\n//       [name]: type === \"file\" ? files[0] : value,\n//     }));\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     try {\n//       await axios.put(`http://localhost:5000/api/products/edit/${id}`, form, {\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       alert(\"Product updated successfully!\");\n//       router.push(\"/products\"); // or wherever you list products\n//     } catch (error) {\n//       console.error(\"Error updating product:\", error);\n//       alert(\"Failed to update product.\");\n//     }\n//   };\n\n//   return (\n//     <div className=\"min-h-screen bg-gradient-to-r from-blue-900 to-purple-800 flex items-center justify-center p-6 mt-16\">\n//       <motion.form\n//         onSubmit={handleSubmit}\n//         initial={{ opacity: 0, y: 30 }}\n//         animate={{ opacity: 1, y: 0 }}\n//         transition={{ duration: 0.6 }}\n//         className=\"flex flex-col lg:flex-row gap-6 w-full max-w-6xl\"\n//       >\n//         <div className=\"flex-1 space-y-6\">\n//           {/* Title */}\n//           <div className=\"bg-white/20 backdrop-blur-lg p-4 rounded-xl shadow-lg\">\n//             <label className=\"text-white block mb-1\">Title</label>\n//             <input\n//               type=\"text\"\n//               name=\"title\"\n//               value={form.title}\n//               onChange={handleChange}\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\n//               placeholder=\"Product title\"\n//             />\n//           </div>\n\n//           {/* Description */}\n//           <div className=\"bg-white/20 backdrop-blur-lg p-4 rounded-xl shadow-lg\">\n//             <label className=\"text-white block mb-1\">Description</label>\n//             <textarea\n//               name=\"description\"\n//               value={form.description}\n//               onChange={handleChange}\n//               rows=\"5\"\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\n//               placeholder=\"Write product description...\"\n//             ></textarea>\n//           </div>\n\n//           {/* Unsplash Image Selector */}\n//           <div className=\"bg-white/10 backdrop-blur p-4 rounded-xl shadow-sm\">\n//             <label className=\"text-white block mb-2\">Search Product Image</label>\n//             <div className=\"flex gap-2\">\n//               <input\n//                 type=\"text\"\n//                 className=\"p-2 rounded bg-slate-700 text-white w-full\"\n//                 placeholder=\"Search e.g. shoes, bags\"\n//                 value={searchTerm}\n//                 onChange={(e) => setSearchTerm(e.target.value)}\n//               />\n//               <button\n//                 type=\"button\"\n//                 className=\"bg-yellow-500 px-4 rounded text-black\"\n//                 onClick={fetchImages}\n//               >\n//                 Search\n//               </button>\n//             </div>\n\n//             {/* Image Grid */}\n//             <div className=\"grid grid-cols-3 gap-3 mt-4\">\n//               {imageResults.map((img) => (\n//                 <img\n//                   key={img.id}\n//                   src={img.urls.small}\n//                   alt={img.alt_description}\n//                   className={`rounded border-2 cursor-pointer hover:border-yellow-400 ${\n//                     form.media === img.urls.small ? \"border-yellow-500\" : \"border-slate-700\"\n//                   }`}\n//                   onClick={() => setForm((prev) => ({ ...prev, media: img.urls.small }))}\n//                 />\n//               ))}\n//             </div>\n\n//             {/* Preview Selected */}\n//             {form.media && (\n//               <div className=\"mt-4\">\n//                 <label className=\"text-white block text-sm mb-1\">Selected Image</label>\n//                 <img src={form.media} className=\"w-32 rounded\" alt=\"Selected\" />\n//               </div>\n//             )}\n//           </div>\n\n//           <motion.button\n//             whileHover={{ scale: 1.05 }}\n//             type=\"submit\"\n//             className=\"w-full lg:w-auto bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-md transition\"\n//           >\n//             Update Product\n//           </motion.button>\n//         </div>\n\n//         {/* Right Section */}\n//         <div className=\"w-full lg:w-80 space-y-4\">\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\n//             <label className=\"text-white block mb-1\">Status</label>\n//             <select\n//               name=\"status\"\n//               value={form.status}\n//               onChange={handleChange}\n//               className=\"w-full p-2 rounded bg-white/20 text-white\"\n//             >\n//               <option value=\"draft\">Draft</option>\n//               <option value=\"active\">Active</option>\n//             </select>\n//           </div>\n\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\n//             <label className=\"text-white block mb-1\">Category</label>\n//             <select\n//               name=\"category\"\n//               value={form.category}\n//               onChange={handleChange}\n//               className=\"w-full p-2 rounded bg-white/20 text-white\"\n//             >\n//               <option value=\"\">Choose a category</option>\n//               <option value=\"electronics\">Electronics</option>\n//               <option value=\"fashion\">Fashion</option>\n//               <option value=\"beauty\">Beauty</option>\n//               <option value=\"home\">Home</option>\n//               <option value=\"gadgets\">Gadgets</option>\n//             </select>\n//           </div>\n\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\n//             <label className=\"text-white block mb-1\">Price</label>\n//             <input\n//               type=\"number\"\n//               name=\"price\"\n//               value={form.price}\n//               onChange={handleChange}\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\n//               placeholder=\"$0.00\"\n//             />\n//           </div>\n\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\n//             <label className=\"text-white block mb-1\">Stock</label>\n//             <input\n//               type=\"number\"\n//               name=\"stock\"\n//               value={form.stock}\n//               onChange={handleChange}\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\n//               placeholder=\"Stock quantity\"\n//             />\n//           </div>\n//         </div>\n//       </motion.form>\n//     </div>\n//   );\n// };\n\n// export default EditProduct;","map":{"version":3,"names":[],"sources":["C:/Users/Ashik/Desktop/machine_test/client/src/pages/EditProduct.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { motion } from \"framer-motion\";\r\n// import axios from \"axios\";\r\n// import { useRouter } from \"next/router\";\r\n\r\n// const EditProduct = () => {\r\n//   const router = useRouter();\r\n//   const { id } = router.query;\r\n\r\n//   const [form, setForm] = useState({\r\n//     title: \"\",\r\n//     description: \"\",\r\n//     media: null,\r\n//     status: \"draft\",\r\n//     category: \"\",\r\n//     price: \"\",\r\n//     stock: \"\",\r\n//   });\r\n\r\n//   const [searchTerm, setSearchTerm] = useState(\"\");\r\n//   const [imageResults, setImageResults] = useState([]);\r\n\r\n//   // Fetch product on mount\r\n//   useEffect(() => {\r\n//     if (id) {\r\n//       const fetchProduct = async () => {\r\n//         try {\r\n//           const res = await axios.get(`http://localhost:5000/api/products/${id}`);\r\n//           setForm(res.data);\r\n//         } catch (err) {\r\n//           console.error(\"Error fetching product:\", err);\r\n//         }\r\n//       };\r\n//       fetchProduct();\r\n//     }\r\n//   }, [id]);\r\n\r\n//   const fetchImages = async () => {\r\n//     try {\r\n//       const res = await axios.get(`https://api.unsplash.com/search/photos`, {\r\n//         params: { query: searchTerm, per_page: 6 },\r\n//         headers: {\r\n//           Authorization: `Client-ID ${process.env.NEXT_PUBLIC_UNSPLASH_KEY}`,\r\n//         },\r\n//       });\r\n//       setImageResults(res.data.results);\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching images from Unsplash:\", error);\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, type, files } = e.target;\r\n//     setForm((prev) => ({\r\n//       ...prev,\r\n//       [name]: type === \"file\" ? files[0] : value,\r\n//     }));\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       await axios.put(`http://localhost:5000/api/products/edit/${id}`, form, {\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//       });\r\n//       alert(\"Product updated successfully!\");\r\n//       router.push(\"/products\"); // or wherever you list products\r\n//     } catch (error) {\r\n//       console.error(\"Error updating product:\", error);\r\n//       alert(\"Failed to update product.\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-gradient-to-r from-blue-900 to-purple-800 flex items-center justify-center p-6 mt-16\">\r\n//       <motion.form\r\n//         onSubmit={handleSubmit}\r\n//         initial={{ opacity: 0, y: 30 }}\r\n//         animate={{ opacity: 1, y: 0 }}\r\n//         transition={{ duration: 0.6 }}\r\n//         className=\"flex flex-col lg:flex-row gap-6 w-full max-w-6xl\"\r\n//       >\r\n//         <div className=\"flex-1 space-y-6\">\r\n//           {/* Title */}\r\n//           <div className=\"bg-white/20 backdrop-blur-lg p-4 rounded-xl shadow-lg\">\r\n//             <label className=\"text-white block mb-1\">Title</label>\r\n//             <input\r\n//               type=\"text\"\r\n//               name=\"title\"\r\n//               value={form.title}\r\n//               onChange={handleChange}\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\r\n//               placeholder=\"Product title\"\r\n//             />\r\n//           </div>\r\n\r\n//           {/* Description */}\r\n//           <div className=\"bg-white/20 backdrop-blur-lg p-4 rounded-xl shadow-lg\">\r\n//             <label className=\"text-white block mb-1\">Description</label>\r\n//             <textarea\r\n//               name=\"description\"\r\n//               value={form.description}\r\n//               onChange={handleChange}\r\n//               rows=\"5\"\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\r\n//               placeholder=\"Write product description...\"\r\n//             ></textarea>\r\n//           </div>\r\n\r\n//           {/* Unsplash Image Selector */}\r\n//           <div className=\"bg-white/10 backdrop-blur p-4 rounded-xl shadow-sm\">\r\n//             <label className=\"text-white block mb-2\">Search Product Image</label>\r\n//             <div className=\"flex gap-2\">\r\n//               <input\r\n//                 type=\"text\"\r\n//                 className=\"p-2 rounded bg-slate-700 text-white w-full\"\r\n//                 placeholder=\"Search e.g. shoes, bags\"\r\n//                 value={searchTerm}\r\n//                 onChange={(e) => setSearchTerm(e.target.value)}\r\n//               />\r\n//               <button\r\n//                 type=\"button\"\r\n//                 className=\"bg-yellow-500 px-4 rounded text-black\"\r\n//                 onClick={fetchImages}\r\n//               >\r\n//                 Search\r\n//               </button>\r\n//             </div>\r\n\r\n//             {/* Image Grid */}\r\n//             <div className=\"grid grid-cols-3 gap-3 mt-4\">\r\n//               {imageResults.map((img) => (\r\n//                 <img\r\n//                   key={img.id}\r\n//                   src={img.urls.small}\r\n//                   alt={img.alt_description}\r\n//                   className={`rounded border-2 cursor-pointer hover:border-yellow-400 ${\r\n//                     form.media === img.urls.small ? \"border-yellow-500\" : \"border-slate-700\"\r\n//                   }`}\r\n//                   onClick={() => setForm((prev) => ({ ...prev, media: img.urls.small }))}\r\n//                 />\r\n//               ))}\r\n//             </div>\r\n\r\n//             {/* Preview Selected */}\r\n//             {form.media && (\r\n//               <div className=\"mt-4\">\r\n//                 <label className=\"text-white block text-sm mb-1\">Selected Image</label>\r\n//                 <img src={form.media} className=\"w-32 rounded\" alt=\"Selected\" />\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n\r\n//           <motion.button\r\n//             whileHover={{ scale: 1.05 }}\r\n//             type=\"submit\"\r\n//             className=\"w-full lg:w-auto bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-md transition\"\r\n//           >\r\n//             Update Product\r\n//           </motion.button>\r\n//         </div>\r\n\r\n//         {/* Right Section */}\r\n//         <div className=\"w-full lg:w-80 space-y-4\">\r\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\r\n//             <label className=\"text-white block mb-1\">Status</label>\r\n//             <select\r\n//               name=\"status\"\r\n//               value={form.status}\r\n//               onChange={handleChange}\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white\"\r\n//             >\r\n//               <option value=\"draft\">Draft</option>\r\n//               <option value=\"active\">Active</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\r\n//             <label className=\"text-white block mb-1\">Category</label>\r\n//             <select\r\n//               name=\"category\"\r\n//               value={form.category}\r\n//               onChange={handleChange}\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white\"\r\n//             >\r\n//               <option value=\"\">Choose a category</option>\r\n//               <option value=\"electronics\">Electronics</option>\r\n//               <option value=\"fashion\">Fashion</option>\r\n//               <option value=\"beauty\">Beauty</option>\r\n//               <option value=\"home\">Home</option>\r\n//               <option value=\"gadgets\">Gadgets</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\r\n//             <label className=\"text-white block mb-1\">Price</label>\r\n//             <input\r\n//               type=\"number\"\r\n//               name=\"price\"\r\n//               value={form.price}\r\n//               onChange={handleChange}\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\r\n//               placeholder=\"$0.00\"\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"bg-white/20 p-4 rounded-xl\">\r\n//             <label className=\"text-white block mb-1\">Stock</label>\r\n//             <input\r\n//               type=\"number\"\r\n//               name=\"stock\"\r\n//               value={form.stock}\r\n//               onChange={handleChange}\r\n//               className=\"w-full p-2 rounded bg-white/20 text-white placeholder-white\"\r\n//               placeholder=\"Stock quantity\"\r\n//             />\r\n//           </div>\r\n//         </div>\r\n//       </motion.form>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default EditProduct;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}